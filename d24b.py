lines = []
with open("d24.txt", "r") as f:
    for l in f:
        left, right = l.strip().split("@")
        left = [int(x.strip()) for x in left.strip().split(",")]
        right = [int(x.strip()) for x in right.strip().split(",")]

        lines.append((tuple(left), tuple(right)))

import numpy as np


def f(x):
    return np.array(
        [
            x[0] + x[3] * x[6] - lines[0][0][0] - lines[0][1][0] * x[6],
            x[1] + x[4] * x[6] - lines[0][0][1] - lines[0][1][1] * x[6],
            x[2] + x[5] * x[6] - lines[0][0][2] - lines[0][1][2] * x[6],
            #
            x[0] + x[3] * x[7] - lines[1][0][0] - lines[1][1][0] * x[7],
            x[1] + x[4] * x[7] - lines[1][0][1] - lines[1][1][1] * x[7],
            x[2] + x[5] * x[7] - lines[1][0][2] - lines[1][1][2] * x[7],
            #
            x[0] + x[3] * x[8] - lines[2][0][0] - lines[2][1][0] * x[8],
            x[1] + x[4] * x[8] - lines[2][0][1] - lines[2][1][1] * x[8],
            x[2] + x[5] * x[8] - lines[2][0][2] - lines[2][1][2] * x[8],
        ]
    )


# from chatgpt submitting to wolfram alpha to solve
# {
#   "input": "Solve[{x[0] + x[3] * x[6] - 347900056584643 - (-106) * x[6] == 0, x[1] + x[4] * x[6] - 153201918251905 - 347 * x[6] == 0, x[2] + x[5] * x[6] - 326681281476465 - (-121) * x[6] == 0, x[0] + x[3] * x[7] - 325628115576998 - (-90) * x[7] == 0, x[1] + x[4] * x[7] - 398874388363326 - (-181) * x[7] == 0, x[2] + x[5] * x[7] - 423548869355240 - (-117) * x[7] == 0, x[0] + x[3] * x[8] - 236283203928677 - 54 * x[8] == 0, x[1] + x[4] * x[8] - 183693864501509 - 152 * x[8] == 0, x[2] + x[5] * x[8] - 231547719652563 - 151 * x[8] == 0}, {x[0], x[1], x[2], x[3], x[4], x[5], x[6], x[7], x[8]}]"
# }
# {
#   "output": "{{x[0] -> 369109345096355, x[1] -> 377478862726817, x[2] -> 138505253617233, x[3] -> -153, x[4] -> -150, x[5] -> 296, x[6] -> 451261457696, x[7] -> 690178246339, x[8] -> 641672179554}}"
# }
# print(lines[:3])
x = 369109345096355
y = 377478862726817
z = 138505253617233

print(x + y + z)
